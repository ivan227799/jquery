<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery Network Error Test for Firefox</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        div { margin-top: 10px; }
        button { padding: 5px 10px; }
    </style>
    <script src="jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("button").on("click", function () {
                $.ajax({
                    url: '/',
                    error: function() {
                        console.log("abort", arguments);
                    }
                }).abort();
                $.ajax({
                    url: '/',
                    error: function() {
                        console.log("complete", arguments);
                    }
                });
                return false;
            });
        });
    </script>
</head>
<body>
    <h1>jQuery Network Error Test for Firefox</h1>
    <div>
        This is a test page for <a href="https://bugs.jquery.com/ticket/8135">trac-8135</a>,
        which was reported in Firefox when accessing properties
        of an XMLHttpRequest object after a network error occurred.
    </div>
    <div>Take the following steps:</div>
    <ol>
        <li>Make sure you accessed this page through a web server.</li>
        <li>Stop the web server.</li>
        <li>Open the console.</li>
        <li>Click this <button>button</button>.</li>
        <li>Wait for both requests to fail.</li>
    </ol>
    <div>
        Test passes if you get two log lines:
        <ul>
            <li>The first starting with "abort".</li>
            <li>The second starting with "complete".</li>
        </ul>
    </div>
    <div>
        Test fails if the browser notifies an exception.
    </div>
</body>
</html>
